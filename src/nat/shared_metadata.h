#ifndef __SHARED_METADATA_H__
#define __SHARED_METADATA_H__

/* THE VALUE BELOW IS SHARED BETWEEN switch.p4 AND nf.cpp */

#define SHARED_LAN_ADDR 0xC0A80100
#define SHARED_LAN_ADDR_MASK 0xFFFFFF00

#define SHARED_SWITCH_FLOW_NUM_LOG 17
#define SHARED_SWITCH_FLOW_NUM_PER_REG_LOG 16
#define SHARED_SWITCH_REG_NUM_LOG (SHARED_SWITCH_FLOW_NUM_LOG - SHARED_SWITCH_FLOW_NUM_PER_REG_LOG)

#define SHARED_SWITCH_FLOW_NUM (1 << SHARED_SWITCH_FLOW_NUM_LOG)
#define SHARED_SWITCH_FLOW_NUM_PER_REG (1 << SHARED_SWITCH_FLOW_NUM_PER_REG_LOG)

#define SHARED_AGING_TIME_US 10000000
//SHARED_AGING_TIME_US*1000/(2**16) == 152587.890625
//SHARED_AGING_TIME_US*1000/(2**24) == 596.046447
#define SHARED_TIME_OFFSET 24
#define SHARED_AGING_TIME_FOR_SWITCH 596 //152588

#define SHARED_TYPE_METADATA 0x88B5

#define SHARED_SWITCH_INNER_MAC_HI16 0x0200
#define SHARED_SWITCH_INNER_MAC_LO32 0x00000201

#define SHARED_NF_INNER_MAC_HI16 0x1070
#define SHARED_NF_INNER_MAC_LO32 0xfd2fd421

//#define DEBUG 

//#define ONE_ENTRY_TEST
//#define PATH_TEST

/* THE VALUE BELOW IS ONLY NEEDED BY nf.cpp */
#define SHARED_WAN_ADDR_BASE 0xC0A802FE
#define SHARED_MIN_PORT 30000
#define SHARED_TOTAL_FLOW_NUM (1 << 21)

#endif